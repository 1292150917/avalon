
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>DOMNodeRemoved test</title>

        <script>
            window.onload = function() {
                var aaa = document.getElementById("aaa")
                var bbb = document.getElementById("bbb")
                var xxx = false
                if (xxx) {
                    aaa.addEventListener("DOMNodeRemoved", function(e) {
                        if (e.target === this) {
                            console.log("DOMNodeRemoved")
                        }
                    })
                    setTimeout(function() {
                        document.body.removeChild(aaa)
                        ///   bbb.appendChild(aaa)
                    }, 3000)
                } else {
                    aaa.addEventListener("DOMNodeRemovedFromDocument", function(e) {//ff24不可用
                        if (e.target === this) {
                            console.log("DOMNodeRemovedFromDocument")
                        }
                    })
                    setTimeout(function() {
                     //   document.body.removeChild(aaa)
                          bbb.appendChild(aaa)
                    }, 3000)
                }


            }
        </script>
    </head>
    <body>

        <div id="bbb" style="border:1px solid  red;padding: 5px;"></div>
        <div id="aaa" style="border:1px solid  green; width: 200px;height:200px;background: #2AAA24;"></div>


    </body>
</html>