<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="avalon.js"></script>
        <script>
            avalon.ready(function() {
                var deptRole = {name: "111", value: "222"};
                var viewModel = avalon.define({
                    $id: "test",
                    selectedDeptRole: [{name: "555", value: "666"}],
                    select: function(deptRole) {
                        // console.log(deptRole)
                        //移除再添加
                        viewModel.selectedDeptRole.splice(0, 1, deptRole);
                    },
                    add: function(){
                            viewModel.select(avalon.mix(true, {}, deptRole));
                    }
                });
                avalon.scan();

                viewModel.select(avalon.mix(true, {}, deptRole));
                viewModel.select(avalon.mix(true, {}, deptRole));
                viewModel.select(avalon.mix(true, {}, deptRole));


            });
        </script>
    </head>
    <body ms-controller="test" >

        <select size="7" style="width: 220px; height: 95px;">
            <option ms-if-loop="selectedDeptRole.length>0" ms-value="el.value" ms-repeat="selectedDeptRole">{{el.name}}</option>
        </select>
        
        <button type="button" ms-click="add">llllllll</button>
    </body>
</html>