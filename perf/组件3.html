<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title></title>
        <script src="../dist/avalon.next.js"></script>
        <script>
            avalon.component('ms-button', {
                template: '<button type="button"><span><slot name="buttonText"></slot></span></button>',
                defaults: {
                    buttonText: "button",
                    onInit: function(a) {
                        console.log("onInit!!",a)
                    },
                    onReady: function(a) {
                        console.log("onReady!!",a)
                    },
                    onViewChange: function(a) {
                        console.log("onViewChange!!",a)
                    },
                    onDispose: function(a) {
                        console.log("onDispose!!",a)
                    }
                },
                soleSlot: 'buttonText'
            })
            var vm = avalon.define({
                $id: 'widget0',
                config: {
                    buttonText: '按钮'
                }
            })
            setTimeout(function() {
                vm.config.buttonText = 'change'
                setTimeout(function() {
                   document.body.innerHTML = ""
                }, 1000)
            }, 1000)
        </script>
    </head>

    <body>
        <div ms-controller='widget0'>
            <div><wbr ms-widget="[{is:'ms-button',$id:'aaa'},@config]" /></div>
        </div>
    </body>

</html>