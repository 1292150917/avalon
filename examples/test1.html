<!DOCTYPE html>
<html>
    <head>
        <title>avalon入门</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
       <script src="avalon.$events.js" type="text/javascript"></script>
<!--         <script src="../avalon.js" type="text/javascript"></script>-->
        <script>
            var model = avalon.define("test", function(vm) {
                vm.a = 1
                vm.c = 3
                vm.b = 2
                vm.d = {a: "222222222", b: "ddddd", c: 345435}
                vm.e = {
                    d: "4"
                }
                vm.$skipArray = ["a"]
                vm.array = [5, 2, 3, 4]
            });
            model.$watch("b", function(a) {
                avalon.log(a + "--------------")
            })
            setTimeout(function(){
                model.array.splice(2,0,9)
                model.array.sort()
                 model.array.pop()
            },1000)
            // console.log(model)
//            setTimeout(function() {
//                model.d = {
//                    11: 111,
//                    22: 3333,
//                    34: 345,
//                    ddd: 465546
//                }
//                model.d.ddd = 4000
//                model.array.push(8)
//                setTimeout(function() {
//                    model.array = [2, 3, 4, 9]
//                    console.log(model)
//                    console.log(model.d)
//                    setTimeout(function() {
//                        model.array.clear()
//                        model.d = {}
//                    }, 1000)
//                }, 1000)
//   
//            }, 1000)

        </script>
    </head>
    <body>
        <div ms-controller="test" >
        
            <ul>
                <li ms-repeat="array">{{el}}<strong>{{$index}}</strong></li>
            </ul>
        </div>
    </body>
</html>
