<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script src="avalon.js"></script>
        <script type="xx">
       <input type="text" ms-attr-value="data"/> {{data}}
        <p ms-text="aaa">这是ms-html</p>
        <b ms-if="toggle">ms-if</b>
        </script>
    </head>
    <body ms-controller="test">

        <ul>
            <li ms-repeat="array"><b>{{el.name}}</b></li>
        </ul>

        <script>
// 创建组件

// 定义vm
var vm = avalon.define({
    $id: 'test',
    data: '司徒正美',
    aaa: "<strong>{{a.b}}</strong><b>{{a.b}}</b>",
    toggle: false,
    array: [{name: 1}, {name: 2}, {name: 3}],
    a: {
        b: 3
    }
})
var heirloom = {}
var after = {
    $accessors: {
        $first: avalon._makeObservable("1", heirloom),
        $last: avalon._makeObservable("1", heirloom),
        $index: avalon._makeObservable("1", heirloom),
        el: avalon._makeObservable("1", heirloom)
    },
    $first: 1,
    $last: 1,
    $index: 1,
    el: 1,
    $events: {},
    $fire: {},
    $watch: {},
    $remove: function () {
        console.log("$remove")
    }
}

//var before = vm.array[0]
//var proxy = avalon.createProxy(before, after)
//heirloom.vm = proxy
//console.log(proxy.name === before.name)
//proxy.name = 3
//
//console.log(before.name)





//        vm.$watch("a.b", function (a, b, c) {
//            console.log(a, b, c)
//        })
//        vm.a.b = 9
//24分;每项3分合格;



        </script>
    </body>
</html>
