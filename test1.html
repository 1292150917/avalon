<!DOCTYPE HTML>
<html>
    <head>
        <title>ms-repeat</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
        <script src="avalon.next.js" ></script>
        <script>
            var a = avalon.define("test", function(vm) {
                vm.aaa = "iiii"
            })


            var str = "rer['argument']['ddd']+(1*2)+aaa.bbb"
            //处理以中括号表示的属性
            var robjectProperty = /([\w\.\_$])\s*\[['"]([^'"]+)['"]\]/
            //处理注释及字符串
            var rstringComment = /\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'/g
            //处理加减乘除小括号等运算符
            var roperator = /[^\w\.$]+/g
            //处理数字
            var rnumber = /\b\d[^,]*/g
            //处理最前面或最后面逗号
            var rcommaOfFirstOrLast = /^,+|,+$/g
            var rcommaInMiddle = /,+/
            while (robjectProperty.test(str)) {
                str = str.replace(robjectProperty, function(match, obj, prop) {
                    return obj + '.' + prop;
                })
            }
            str = str.replace(rstringComment, "")
            str = str.replace(roperator, ",")
            str = str.replace(rnumber, ",")
            str = str.replace(rcommaOfFirstOrLast, "")
            str = str.split(rcommaInMiddle)
            console.log(str)




        </script>
    </head>
    <body ms-controller="test" >

        <input ms-duplex="aaa"/> {{aaa + "  "+ aaa}}

    </body>
</html>