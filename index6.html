<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="avalon.js"></script>
        <script>
            avalon.config({maxRepeatSize:5})
            var vm = avalon.define({
                $id: "test",
                data: {
                    list: ["1","2"]
                },
                click: function () {
                    vm.data.list.push("3")
                },
                clear: function () {
                    vm.data.list = []
                },
                serialize: function () {
                    console.log(vm.data.list.$model + "")
                }
            })
//            setTimeout(function () {
//                var input = document.getElementsByTagName("input")[0]
//
//                input.value = "2"
//            }, 1000)
//            setTimeout(function () {
//                var input = document.getElementsByTagName("input")
//                input[0].value = 8 //请空
//                input[2].value = 7 //请空
//            }, 8000)
        </script>
    </head>
    <body ms-controller="test">

        <a href="#"  ms-on-click="click">add</a> <br>
        <a href="#"  ms-on-click="serialize">serialize</a> <br>
        <a href="#"  ms-on-click="clear">clear</a>
        <p ms-repeat-el="data.list">
            <input type="text" ms-attr-hehe="$index"  ms-duplex="el">
        </p>
    </body>
</html>
