<!DOCTYPE html>
<html>

    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/css.css" rel="stylesheet" />


	<script type="text/javascript" src="./dist/avalon.js"></script>
        <script src="./mmRouter.js"></script>
  
	</head>

	<body >
            <div :controller="mainCtr">
    <div :html="@indexTpl"></div>
    <a href="#!/index">index</a>
    <br/>
    <a href="#!/aaa">aaa</a>
</div>
<script>

    var vmMain = avalon.define({
        $id:'mainCtr',
        indexTpl: '123'
    });
    // 路由导航回调
    function routerCb(){
        var path = this.path;
        vmMain.indexTpl = path
        avalon.log(path);
    }
    avalon.router.add('/index',routerCb);
    avalon.router.add('/aaa',routerCb);
    avalon.history.start({
        root: "/",
        hashPrefix: "",
        autoScroll: false //滚动
    });
    var hash = location.hash.replace(/#!?/, '');
    avalon.router.navigate(hash || '/index', 0);//默认打开

</script>
	</body>

</html>