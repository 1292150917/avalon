<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script src="avalon.js"></script>
        <script>
            var vm = avalon.define({
                $id: 'test',
                aa: 11
            })
            vm.$watch("aa", function(){
                console.log("创建vm1")
            })
            var vm3 = avalon.define({
                $id: 'test2',
                bb: 22
            })
            var vm4 = avalon.proxyFactory(vm,vm3)
            
            vm4.$watch("aa", function(){
                console.log("创建vm1")
            })
            
            
            var vm2 = avalon.watchItemFactory(0, {
                keyName: "$index",
                itemName: "el",
                vmodel: vm4
            }, true)
            console.log(vm2.aa)
            setTimeout(function(){
                vm.aa = 88
                console.log(vm.aa)
            })
            

        </script>
    </head>
    <body ms-controller="test">
        
    </body>
</html>
