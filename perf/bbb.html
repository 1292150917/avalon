<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <script src="../dist/avalon.js"></script>

    </head>
    <body>
        <div ms-controller="test">
            <div ms-html="@tpl"></div>
            <button ms-click="@click">插入</button>
            <button ms-click="@click2">插入</button>
        </div>
        <script>
            function heredoc(fn) {
                return fn.toString().replace(/^[^\/]+\/\*!?\s?/, '').
                        replace(/\*\/[^\/]+$/, '').trim().replace(/>\s*</g, '><')
            }
             var html = heredoc(function () {
                /*
                 <div ms-controller="test2">
                 <span  ms-if='@show'>AAA</span>|<span ms-for='el in @ter'>{{el}}</span>
                 </div>
                 */
            })
            var vm = avalon.define({
                $id: 'test',
                tpl: "",
                click: function () {
                    vm.tpl = html

                },
                click2: function () {
                    this.tpl = "";
                }
            });

            avalon.define({
                $id: 'test2',
                ter: ['呵呵哒1', '呵呵哒2', '呵呵哒3'],
                show: false
            });


        </script>
    </body>
</html>